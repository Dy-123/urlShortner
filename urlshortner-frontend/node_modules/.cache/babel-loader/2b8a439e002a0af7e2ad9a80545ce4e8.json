{"ast":null,"code":"var _jsxFileName = \"/home/dy/Desktop/urlShortner/urlshortner-frontend/src/components/Search.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Button, TextField, LinearProgress } from \"@material-ui/core\";\nimport styled from \"styled-components\";\nimport validator from \"validator\";\nimport { getUrl, setUrl } from \"../apis/api\";\nimport DisplayLink from \"./DisplayLink\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst StyledForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n`;\n_c = StyledForm;\nlet options = {\n  // Options parameter for validator \n  protocols: ['http', 'https'],\n  // require_tld: true,\n  require_protocol: true // require_host: true,\n  // require_valid_protocol: true,\n  // allow_underscores: false,\n  // host_whitelist: false,\n  // host_blacklist: false,\n  // allow_trailing_dot: false,\n  // allow_protocol_relative_urls: false,\n  // disallow_auth: false\n\n};\nvar rootPage = 'localhost:3000';\n\nif (process.env.NODE_ENV === \"production\") {\n  rootPage = process.env.homepage;\n}\n\nconst Search = () => {\n  _s();\n\n  const [link, setLink] = useState(\"\");\n  const [short, setShort] = useState(\"\");\n  const [loading, setLoading] = useState(false); // onSubmit button listner\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (checkLink(link)) {\n      getLink(link);\n      setLink(\"\");\n      setLoading(!loading);\n    }\n  }; // url validator\n\n\n  const checkLink = string => {\n    if (!validator.isURL(string, options)) {\n      setShort(\"\");\n    }\n\n    return validator.isURL(string, options);\n  }; // API call to get link\n\n\n  const getLink = async stringUrl => {\n    var shortUrl = await setUrl({\n      stringUrl\n    });\n    console.log(await getUrl({\n      shortUrl\n    }));\n\n    if (shortUrl) {\n      setShort(rootPage + '/' + shortUrl);\n      setLoading(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(StyledForm, {\n      onSubmit: e => handleSubmit(e),\n      autoComplete: \"off\",\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        style: {\n          marginBottom: \"20px\"\n        },\n        label: \" Enter a long URL  \",\n        variant: \"outlined\",\n        value: link,\n        onChange: e => setLink(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), !loading && /*#__PURE__*/_jsxDEV(Button, {\n        style: {\n          borderRadius: 20\n        },\n        onClick: e => handleSubmit(e),\n        variant: \"contained\",\n        color: \"primary\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), loading && /*#__PURE__*/_jsxDEV(LinearProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), short ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          color: \"green\"\n        },\n        children: \" Short Link: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DisplayLink, {\n        shortend: `${short}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        style: {\n          borderRadius: 20,\n          marginTop: \"20px\",\n          color: \"white\",\n          backgroundColor: \"green\"\n        },\n        onClick: () => {\n          navigator.clipboard.writeText(short);\n        },\n        variant: \"contained\",\n        children: \"Copy to Clipboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          color: \"red\"\n        },\n        children: \"Enter a valid Link with protocol()\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this)\n    }, void 0, false)]\n  }, void 0, true);\n};\n\n_s(Search, \"hbNnAFrou1a/InYa9ZCFB5MX5Gk=\");\n\n_c2 = Search;\nexport default Search;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"StyledForm\");\n$RefreshReg$(_c2, \"Search\");","map":{"version":3,"names":["React","useState","Button","TextField","LinearProgress","styled","validator","getUrl","setUrl","DisplayLink","StyledForm","form","options","protocols","require_protocol","rootPage","process","env","NODE_ENV","homepage","Search","link","setLink","short","setShort","loading","setLoading","handleSubmit","e","preventDefault","checkLink","getLink","string","isURL","stringUrl","shortUrl","console","log","marginBottom","target","value","borderRadius","color","marginTop","backgroundColor","navigator","clipboard","writeText"],"sources":["/home/dy/Desktop/urlShortner/urlshortner-frontend/src/components/Search.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Button, TextField, LinearProgress } from \"@material-ui/core\";\nimport styled from \"styled-components\";\n\nimport validator from \"validator\";\n\nimport {getUrl, setUrl} from \"../apis/api\";\nimport DisplayLink from \"./DisplayLink\";\n\nconst StyledForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n`;\n\nlet options = {                                   // Options parameter for validator \n  protocols: [\n      'http',\n      'https'\n  ],\n  // require_tld: true,\n  require_protocol: true\n  // require_host: true,\n  // require_valid_protocol: true,\n  // allow_underscores: false,\n  // host_whitelist: false,\n  // host_blacklist: false,\n  // allow_trailing_dot: false,\n  // allow_protocol_relative_urls: false,\n  // disallow_auth: false\n}\n\nvar rootPage= 'localhost:3000';\nif(process.env.NODE_ENV === \"production\"){\n  rootPage = process.env.homepage;\n}\n\nconst Search = () => {\n  const [link, setLink] = useState(\"\");\n  const [short, setShort] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  // onSubmit button listner\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (checkLink(link)) {\n      getLink(link);\n      setLink(\"\");\n      setLoading(!loading);\n    }\n  };\n\n  // url validator\n  const checkLink = (string) => {\n    if (!validator.isURL(string,options)) {\n      setShort(\"\");\n    }\n\n    return validator.isURL(string,options);\n  };\n\n  // API call to get link\n  const getLink = async (stringUrl) => {\n    var shortUrl= await setUrl({stringUrl});\n    console.log(await getUrl({shortUrl}));\n    if(shortUrl){\n        setShort(rootPage+'/'+shortUrl);\n        setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <StyledForm onSubmit={(e) => handleSubmit(e)} autoComplete=\"off\">\n        <TextField\n          style={{ marginBottom: \"20px\" }}\n          label=\" Enter a long URL  \"\n          variant=\"outlined\"\n          value={link}\n          onChange={(e) => setLink(e.target.value)}\n        />\n\n        {!loading && (\n          <Button\n            style={{\n              borderRadius: 20,\n            }}\n            onClick={(e) => handleSubmit(e)}\n            variant=\"contained\"\n            color=\"primary\"\n          >\n            Submit\n          </Button>\n        )}\n\n        {loading && <LinearProgress />}\n      </StyledForm>\n\n      {short ? (\n        <>\n          <h4 style={{ color: \"green\" }}> Short Link: </h4>\n\n          <DisplayLink shortend={`${short}`} />\n\n          <Button\n            style={{\n              borderRadius: 20,\n              marginTop: \"20px\",\n              color: \"white\",\n              backgroundColor: \"green\",\n            }}\n            onClick={() => {\n              navigator.clipboard.writeText(short);\n            }}\n            variant=\"contained\"\n          >\n            Copy to Clipboard\n          </Button>\n        </>\n      ) : (\n        <>\n          <h4 style={{ color: \"red\" }}>Enter a valid Link with protocol()</h4>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Search;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}